<!DOCTYPE html>
<html>
  <head>
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/fontFace.css">
    <link rel="stylesheet" href="css/text.css">
    <link rel="stylesheet" href="css/boxes.css">
    <link rel="stylesheet" href="css/colors.css">
    <link rel="stylesheet" href="css/herosec.css">
    <link rel="stylesheet" href="css/modal.css">
    <link rel="stylesheet" href="css/menu.css">
  </head>
  <body>

    <nav class="mainMenu colorBgRed">
      <div class="menuContent">
        <ul>
          <li class="menuListItem textbutton"><a class="colorTxtWhite" href="#">Mapa</a></li>
          <li class="menuListItem textbutton"><a class="colorTxtWhite" href="#">Catálogo</a></li>
          <li class="menuListItem textbutton"><a class="colorTxtWhite" href="#">Sobre</a></li>
          <li class="menuListItem textbutton"><a class="colorTxtWhite" href="#">Referências</a></li>
        </ul>
      </div>
    </nav>
    <header class="container colorBgLigthGrey heroSec">
          <img src="img/logo.svg" alt="Mapa de mistérios do Recife" class="bannerLogo">
          <div class="panel subsec">
            <a href="#" class="button textbutton colorBgRed">Iniciar!</a>
            <p class="texttitle subpanel">Para você que quer se aventurar em busca de assombrações</p>
          </div>
          <div class="panel subsec">
            <a href="#" class="button textbutton colorBgRed">Como funciona</a>
            <p class="texttitle subpanel">Para você que quer se aventurar em busca de assombrações</p>
          </div>
    </header>
    <main>
      <div id="mapa"></div>
    </main>
    <footer class="colorBgLigthGrey alignCenter footerSec">
      <a href="#" class="textbutton textBlock alingRight colorTxtWhite">Ir para o topo</a>
      <ul class="linkList">
        <li class="linkInline"><a href="#" class="linkInline colorTxtWhite textbody2">Sobre - </a></li>
        <li class="linkInline"><a href="#" class="linkInline colorTxtWhite textbody2">Referências - </a></li>
        <li class="linkInline"><a href="#" class="linkInline colorTxtWhite textbody2">Textos - </a></li>
        <li class="linkInline"><a href="#" class="linkInline colorTxtWhite textbody2">Contato - </a></li>
        <li class="linkInline"><a href="#" class="linkInline colorTxtWhite textbody2">Código Fonte </a></li>
      </ul>

      <p class="textbody2 colorTxtBrown">Criado e mantido por <a class="colorTxtWhite" href="#">@aarons</a></p>
    </footer>
    <div class="modal">
    </div>

    <script src="js/app/models/Assombracao.js"></script>
    <script src="js/app/models/ListaAssombracao.js"></script>
    <script src="js/app/services/LocationService.js"></script>
    <script src="js/app/services/GetKey.js"></script>
    <script src="js/app/models/Location.js"></script>
    <script src="js/app/controllers/MapController.js"></script>
    <script src="js/app/views/MapView.js"></script>
    <script src="js/app/repo/AssombracoesRepo.js"></script>
    <script src="js/app/views/modal.js">

    </script>
    <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB2uPawOPYriT7y7vdd0OeNp_JButueuvE">
    </script>
    <script>
      let mapController
      LocationService.getUserLocation()
        .then(location => {

            mapController = new MapController(location, AssombracoesRepo.getAssombracoes())
            mapController.refreshMap()
        })
        .catch(erro => {
            console.log(erro)
            recife = {lat: -8.061875, lng: -34.878088}
            mapController = new MapController(recife, AssombracoesRepo.getAssombracoes())
            mapController.refreshMap()
        })


    </script>
  </body>
</html>
